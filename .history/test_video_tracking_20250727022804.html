<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Eye Tracking with Video - Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-4">ðŸŽ¥ Computer Vision Eye Tracking Test</h1>
                <p class="text-gray-600 mb-6">
                    This is a test page for the Computer Vision Eye Tracking system with live video feed.
                    The eye tracking widget should appear in the top-right corner with a "Show Video" button.
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <h2 class="text-xl font-semibold text-gray-700">Features:</h2>
                        <ul class="space-y-2 text-gray-600">
                            <li class="flex items-center">
                                <span class="w-2 h-2 bg-green-500 rounded-full mr-3"></span>
                                Real-time gaze detection using webcam
                            </li>
                            <li class="flex items-center">
                                <span class="w-2 h-2 bg-blue-500 rounded-full mr-3"></span>
                                Live video feed with annotations
                            </li>
                            <li class="flex items-center">
                                <span class="w-2 h-2 bg-purple-500 rounded-full mr-3"></span>
                                Face and eye detection overlays
                            </li>
                            <li class="flex items-center">
                                <span class="w-2 h-2 bg-orange-500 rounded-full mr-3"></span>
                                Focus time tracking
                            </li>
                        </ul>
                    </div>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-gray-700 mb-3">How to test:</h3>
                        <ol class="space-y-2 text-gray-600 text-sm">
                            <li>1. Look for the tracking widget in the top-right corner</li>
                            <li>2. Click "Show Video" to see the live webcam feed</li>
                            <li>3. Look at the screen to see gaze detection in action</li>
                            <li>4. Try looking away and back to test the tracking</li>
                            <li>5. Check the focus time counters</li>
                        </ol>
                    </div>
                </div>
                
                <div class="mt-8 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-400">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <svg class="h-5 w-5 text-blue-400" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-blue-700">
                                <strong>Note:</strong> Make sure the Python eye tracking service is running on port 5000.
                                The video feed shows real-time gaze tracking with visual annotations including face detection,
                                eye detection, and focus status overlays.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Simulated module content for testing -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">ðŸ“š Sample Learning Content</h2>
                <p class="text-gray-600 mb-4">
                    This is sample content to test eye tracking. As you read this content,
                    the system should detect that you're looking at the screen and track your focus time.
                </p>
                
                <div class="prose max-w-none">
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">Computer Vision in Education</h3>
                    <p class="text-gray-600 mb-4">
                        Computer vision technology is revolutionizing how we track and understand student engagement.
                        By analyzing gaze patterns and attention metrics, educators can gain valuable insights into
                        learning effectiveness and student focus levels.
                    </p>
                    
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">Eye Tracking Benefits</h3>
                    <ul class="list-disc list-inside text-gray-600 space-y-2 mb-4">
                        <li>Real-time attention monitoring</li>
                        <li>Objective engagement metrics</li>
                        <li>Personalized learning insights</li>
                        <li>Improved content design based on gaze data</li>
                        <li>Enhanced learning analytics</li>
                    </ul>
                    
                    <p class="text-gray-600">
                        The system uses advanced computer vision algorithms to detect faces, locate eyes,
                        and determine gaze direction in real-time, providing immediate feedback about
                        student attention and engagement levels.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Include the CV Eye Tracking script -->
    <script src="user/js/cv-eye-tracking.js"></script>
    <script>
        // Initialize eye tracking for this test page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ðŸŽ¬ Initializing CV Eye Tracking Test...');
            
            // Initialize with test module ID
            window.cvEyeTracker = new CVEyeTrackingSystem('test-module', 'video-test');
            
            console.log('âœ… CV Eye Tracking initialized for video test');
        });
    </script>
</body>
</html>
